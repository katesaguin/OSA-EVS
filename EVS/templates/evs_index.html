{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title %}{% endblock title %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Overpass:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-DQvkBjpPgn7RC31MCQoOeC9TI2kdqa4+BSgNMNj8v77fdC77Kj5zpWFTJaaAoMbC" crossorigin="anonymous">
</head>
<body>
    <!--NAVIGATION BAR-->
    <div class="sidebar">
        <div class="sidebar-content">
            <h5>XU OSA</h5>
            <h3>ENTRY VIOLATION SYSTEM</h3>               
                <a href="{% url 'evs:Dashboard' %}" class="active"><i class='bx bx-home-alt'></i> Dashboard</a>
                <a href="{% url 'evs:Statistics' %}"><i class='bx bx-bar-chart'></i> Statistics</a>
                <a href="{% url 'evs:Tally' %}"><i class='bx bx-list-ul'></i> Tally</a>
                <a href="{% url 'evs:ViolationTickets' %}"><i class='bx bx-table'></i> Tickets</a>
                <a href="{% url 'evs:Settings' %}"><i class='bx bx-cog'></i> Settings</a>
                <a href="#"><i class='bx bx-log-out'></i> Logout</a>
         </div>
    </div>

    <!--MAIN CONTENT-->
    <div class="main-content">
        <div class="header">
            <div class="dashboard-title">
                <button class="burger btn" arial-label="Toggle Sidebar" onclick="toggleSidebar()">
                    <div></div>
                    <div></div>
                    <div></div>
                </button>
                {%block page_name %}{% endblock page_name %}
            </div>
            
        </div>
        {% block content %}{% endblock content %}
    </body>
    <script>
        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const mainContent = document.querySelector('.main-content');
    
            sidebar.classList.toggle('show');
    
            if (sidebar.classList.contains('show')) {
                mainContent.style.marginLeft = '250px';
            } else {
                mainContent.style.marginLeft = '0';
            }
        }
    
        // Add event listeners to sidebar links
        document.querySelectorAll('.sidebar a').forEach(link => {
            link.addEventListener('click', function () {
                // Remove the 'active' class from all links
                document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
    
                // Add the 'active' class to the clicked link
                this.classList.add('active');
            });
        });

        function toggleDropdown() {
            const dropdown = document.getElementById('status-dropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }
        
        // Function to update the ID Status field @ticket-details ni sha 
        // TO BE EDITED
        function updateStatus(status) {
            const idStatusInput = document.getElementById('id-status');
            idStatusInput.value = status; // Update the input field value
            document.getElementById('status-dropdown').style.display = 'none'; // Hide the dropdown
        }
    </script>
</html>